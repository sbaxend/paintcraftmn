---
/**
 * Single project card used inside WorkGallery.
 */

export type WorkItem = {
  id: string;
  type: "interior" | "exterior" | "cabinets" | "commercial";
  title: string;
  img: string;
  location?: string;
  description?: string;
  tags?: string[];
};

export interface Props {
  project: WorkItem;
  typeLabel: string;
}

const { project, typeLabel } = Astro.props as Props;
---

<article
  class="work-card group cursor-pointer"
  data-project-id={project.id}
  data-type={project.type}
  data-title={project.title}
  data-img={project.img}
  data-description={project.description || ""}
  data-location={project.location || ""}
>
  <div
    class="relative aspect-[4/3] rounded-3xl overflow-hidden bg-neutral-100 shadow-[0_18px_55px_rgba(15,23,42,0.22)] transition-all duration-500 group-hover:shadow-[0_28px_80px_rgba(15,23,42,0.30)]"
  >
    <!-- Image -->
    <img
      src={project.img}
      alt={project.title}
      loading="lazy"
      decoding="async"
      class="w-full h-full object-cover transition-transform duration-[900ms] group-hover:scale-110"
    />

    <!-- Gradient Overlay -->
    <div
      class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-70 group-hover:opacity-90 transition-opacity duration-500"
    ></div>

    <!-- Content -->
    <div class="absolute inset-0 p-5 md:p-6 flex flex-col justify-end">
      <!-- Tags -->
      {project.tags && project.tags.length > 0 && (
        <div
          class="flex flex-wrap gap-2 mb-3 opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-500"
        >
          {project.tags.map((tag) => (
            <span
              class="text-[0.7rem] font-semibold text-white bg-white/15 backdrop-blur-sm px-3 py-1 rounded-full border border-white/30"
            >
              {tag}
            </span>
          ))}
        </div>
      )}

      <!-- Title & Description -->
      <h3
        class="text-xl md:text-2xl font-bold text-white mb-1 translate-y-2 group-hover:translate-y-0 transition-transform duration-500"
      >
        {project.title}
      </h3>

      {project.description && (
        <p
          class="text-white/90 text-xs md:text-sm leading-relaxed opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-500 delay-75"
        >
          {project.description}
        </p>
      )}

      <!-- Arrow icon -->
      <div
        class="absolute top-5 right-5 h-9 w-9 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-500"
      >
        <svg
          class="h-5 w-5 text-white"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M5 12h14" />
          <path d="M13 5l7 7-7 7" />
        </svg>
      </div>
    </div>

    <!-- Type Badge -->
    <div
      class="absolute top-5 left-5 rounded-full bg-[#C48356] px-4 py-1.5 shadow-lg transform group-hover:scale-110 transition-transform duration-500"
    >
      <span
        class="text-[0.65rem] md:text-xs font-bold text-white uppercase tracking-[0.16em]"
      >
        {typeLabel}
      </span>
    </div>
  </div>
</article>
