---
/**
 * FAQExterior.astro — Updated with SEO topic tags
 */

const PHONE_DISPLAY = "(952) 697-9987";
const PHONE_TEL = "+19526979987";

const faqs = [
  {
    question: "When is the best time of year to do exterior painting in Minneapolis?",
    answer:
      "In the Twin Cities, exterior painting is typically scheduled from late spring through early fall when daytime temperatures stay above 50°F and nights are mild. This helps paint cure properly and resist winter freeze–thaw cycles. We monitor humidity, wind, and dew point to choose optimal days.",
  },
  {
    question: "How do you prep the exterior before painting?",
    answer:
      "We start with a thorough wash (soft wash or power wash depending on substrate) to remove dirt, chalking, and mildew. Then we scrape loose paint, sand edges smooth, perform spot-priming on bare or tannin-prone areas, replace failing caulk, and repair minor wood or trim damage before coating.",
  },
  {
    question: "What siding types do you work with?",
    answer:
      "We paint most exterior surfaces, including fiber-cement (James Hardie), engineered wood (LP® SmartSide®), cedar and other wood siding, stucco, and brick. We’ll recommend the correct primer and coating for each substrate.",
  },
  {
    question: "What happens if it rains on the day of painting?",
    answer:
      "We plan around the forecast and dew point. If rain threatens fresh coatings, we pause and reschedule the affected steps. Our goal is to protect adhesion and finish quality—no rushed coats before a storm. We’ll keep you updated with a clear timeline.",
  },
  {
    question: "How long does an exterior project usually take?",
    answer:
      "Most single-family exteriors take 3–7 working days depending on prep scope, siding complexity, and weather. Larger homes or repairs can extend the timeline. You’ll receive a detailed schedule and daily status updates.",
  },
  // {
  //   question: "Do you offer color help for exteriors?",
  //   answer:
  //     "Absolutely. We can suggest Minneapolis-friendly palettes, provide large brush-out samples, or coordinate with color consultants. We factor roof color, stone/brick, trim, light exposure, and neighborhood guidelines.",
  // },
];

// *** New SEO Topic Tags ***
const topics = [
  "Siding & Trim Painting",
  "Deck & Fence Staining",
  "Brick & Masonry Painting",
  "Exterior Door & Shutter Painting",
  "Stucco & Hardie Board Prep",
  "Garage Door Painting",
];
---

<section class="relative bg-gradient-to-b from-white to-neutral-50 py-20 md:py-28">
  <div class="mx-auto max-w-7xl px-6">
    <!-- Header -->
    <div class="text-center mb-16">
      <div class="inline-flex items-center justify-center rounded-full bg-[#C48356]/10 px-4 py-2 mb-4">
        <svg class="h-5 w-5 text-[#C48356] mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span class="text-sm font-semibold text-[#C48356]">Exterior Painting FAQs</span>
      </div>

      <h2 class="text-4xl md:text-5xl font-bold text-neutral-900 tracking-tight">
        Everything to know about exterior painting in the Twin Cities
      </h2>

      <p class="mt-4 text-lg text-neutral-600 max-w-2xl mx-auto">
        Weather windows, siding types, warranties, and how we prep Minnesota homes for lasting results.
      </p>
    </div>

    <!-- Two Column Layout: FAQ + CTA (match interior) -->
    <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-start">
      <!-- LEFT COLUMN (FAQ + SEO TOPICS) -->
      <div>
        <!-- FAQ List -->
        <div id="ext-faq-list" class="space-y-4" itemscope itemtype="https://schema.org/FAQPage">
          {faqs.map((faq, index) => (
            <div 
              class="faq-item group rounded-2xl bg-white shadow-sm hover:shadow-md transition-all duration-300 border border-neutral-200/70"
              itemscope itemprop="mainEntity" itemtype="https://schema.org/Question"
            >
              <button
                class="faq-toggle w-full px-6 py-5 flex items-start justify-between text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-[#C48356] focus-visible:ring-offset-2 rounded-2xl"
                aria-expanded="false"
                aria-controls={`ext-faq-answer-${index}`}
              >
                <span class="flex-1 pr-4">
                  <h3 
                    class="text-base md:text-lg font-semibold text-neutral-900 group-hover:text-[#C48356] transition-colors"
                    itemprop="name"
                  >
                    {faq.question}
                  </h3>
                </span>

                <span class="faq-icon flex-shrink-0 ml-4 h-6 w-6 flex items-center justify-center rounded-full bg-[#C48356]/10 text-[#C48356] transition-transform duration-300">
                  <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                  </svg>
                </span>
              </button>

              <div 
                id={`ext-faq-answer-${index}`}
                class="faq-answer overflow-hidden transition-all duration-300 ease-in-out"
                style="max-height: 0;"
                itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer"
              >
                <div class="px-6 pb-5">
                  <p class="text-sm md:text-base text-neutral-700 leading-relaxed" itemprop="text">
                    {faq.answer}
                  </p>
                </div>
              </div>
            </div>
          ))}
        </div>

        <!-- SEO TOPIC TAGS (NON-CLICKABLE) -->
        <div class="mt-10">
          <p class="text-xs font-semibold uppercase tracking-wide text-neutral-500 mb-3">
            Topics this page covers
          </p>

          <ul class="flex flex-wrap gap-3">
            {topics.map((t) => (
              <li>
                <span class="inline-flex items-center gap-2 rounded-full border border-neutral-200 bg-white px-4 py-2 text-sm font-medium text-neutral-700">
                  <svg class="h-4 w-4 text-neutral-500" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10 2a8 8 0 100 16 8 8 0 000-16z" />
                  </svg>
                  {t}
                </span>
              </li>
            ))}
          </ul>
        </div>
      </div>

      <!-- RIGHT COLUMN (CTA CARD) -->
      <div class="lg:sticky lg:top-24">
        <div class="rounded-3xl bg-gradient-to-br from-[#C48356] to-[#B47347] p-1 shadow-2xl">
          <div class="rounded-3xl bg-white px-8 py-10">
            <div class="flex justify-center mb-6">
              <div class="h-16 w-16 rounded-2xl bg-gradient-to-br from-[#C48356] to-[#B47347] flex items-center justify-center shadow-lg">
                <svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
            </div>

            <h3 class="text-2xl md:text-3xl font-bold text-neutral-900 mb-3 text-center">
              Ready for a curb-appeal upgrade?
            </h3>

            <p class="text-base text-neutral-600 mb-8 text-center leading-relaxed">
              Get a fast, accurate exterior quote—built for Minnesota weather and backed by our workmanship warranty.
            </p>

            <div class="space-y-3 mb-8">
              <a href="/contact" class="w-full inline-flex items-center justify-center rounded-full bg-[#C48356] px-8 py-4 text-base font-semibold text-white shadow-lg hover:bg-[#B47347] hover:shadow-xl hover:scale-105 transition-all">
                Get Free Estimate
                <svg class="ml-2 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </a>

              <a href={`tel:${PHONE_TEL}`} class="w-full inline-flex items-center justify-center rounded-full border-2 border-[#C48356] bg-transparent px-8 py-4 text-base font-semibold text-[#C48356] hover:bg-[#C48356] hover:text-white transition-all">
                <svg class="mr-2 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
                {PHONE_DISPLAY}
              </a>
            </div>

            <div class="space-y-3 pt-6 border-t border-neutral-200">
  <div class="flex items-center gap-3 text-sm text-neutral-700">
    <svg
      class="h-5 w-5 text-[#C48356] flex-shrink-0"
      fill="currentColor"
      viewBox="0 0 20 20"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
      />
    </svg>
    <span class="font-medium">Lead-safe practices for pre-1978 homes</span>
  </div>

  <div class="flex items-center gap-3 text-sm text-neutral-700">
    <svg
      class="h-5 w-5 text-[#C48356] flex-shrink-0"
      fill="currentColor"
      viewBox="0 0 20 20"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
      />
    </svg>
    <span class="font-medium">Licensed &amp; Insured</span>
  </div>

  <div class="flex items-center gap-3 text-sm text-neutral-700">
    <svg
      class="h-5 w-5 text-[#C48356] flex-shrink-0"
      fill="currentColor"
      viewBox="0 0 20 20"
    >
      <path
        d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
      />
    </svg>
    <span class="font-medium">5.0★ Google-rated</span>
  </div>
</div>


          </div>
        </div>
      </div>
      <!-- END RIGHT COLUMN -->
    </div>
  </div>
</section>


<!-- JSON-LD FAQ Schema -->
<script
  type="application/ld+json"
  set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": faqs.map((f) => ({
      "@type": "Question",
      "name": f.question,
      "acceptedAnswer": { "@type": "Answer", "text": f.answer }
    }))
  })}
></script>

<!-- Accordion script -->
<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const items = Array.from(document.querySelectorAll('#ext-faq-list .faq-item'));

    items.forEach((item) => {
      const btn = item.querySelector('.faq-toggle');
      const panel = item.querySelector('.faq-answer');
      const icon = item.querySelector('.faq-icon');

      btn.addEventListener('click', () => {
        const expanded = btn.getAttribute('aria-expanded') === 'true';

        items.forEach((i) => {
          if (i !== item) {
            const b = i.querySelector('.faq-toggle');
            const p = i.querySelector('.faq-answer');
            const ic = i.querySelector('.faq-icon');
            b?.setAttribute('aria-expanded', 'false');
            if (p) p.style.maxHeight = '0';
            if (ic) ic.style.transform = 'rotate(0deg)';
          }
        });

        if (expanded) {
          btn.setAttribute('aria-expanded', 'false');
          panel.style.maxHeight = '0';
          icon.style.transform = 'rotate(0deg)';
        } else {
          btn.setAttribute('aria-expanded', 'true');
          panel.style.maxHeight = panel.scrollHeight + 'px';
          icon.style.transform = 'rotate(180deg)';
        }
      });
    });
  });
</script>

<style>
  .faq-answer { transition: max-height .3s cubic-bezier(.4,0,.2,1); }
  .faq-icon   { transition: transform .3s cubic-bezier(.4,0,.2,1); }
</style>
