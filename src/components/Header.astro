---
import { navLinks, ctaButton } from "../config/siteConfig.js";
const current = Astro.url.pathname;
---

<header class="sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-neutral-200">
  <div class="mx-auto max-w-7xl px-4 md:px-6">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-2">
        <img src="/paintcraft_logo.webp" alt="PaintCraft logo" class="h-6 w-6" />
        <span class="font-semibold tracking-wide">PAINTCRAFT</span>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden md:flex items-center gap-8">
        {navLinks.map((link) => (
          <a
            href={link.href}
            class={`text-sm font-medium transition ${
              current === link.href
                ? "text-neutral-900"
                : "text-neutral-700 hover:text-neutral-900"
            }`}
          >
            {link.label}
          </a>
        ))}
        <a
          href={ctaButton.href}
          class="inline-flex items-center rounded-xl bg-neutral-900 text-white px-4 py-2 text-sm font-semibold hover:bg-neutral-800 transition"
        >
          {ctaButton.label}
        </a>
      </nav>

      <!-- Mobile Menu Button -->
      <button
        class="md:hidden inline-flex items-center justify-center rounded-md p-2 text-neutral-700 hover:bg-neutral-100"
        aria-label="Open menu"
        id="menuBtn"
      >
        <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none">
          <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Drawer -->
  <div id="mobileMenu" class="md:hidden hidden border-t border-neutral-200 bg-white">
    <div class="px-4 py-3 space-y-2">
      {navLinks.map((link) => (
        <a
          href={link.href}
          class={`block rounded-lg px-3 py-2 font-medium transition ${
            current === link.href
              ? "bg-neutral-100 text-neutral-900"
              : "text-neutral-700 hover:bg-neutral-100"
          }`}
        >
          {link.label}
        </a>
      ))}
      <a
        href={ctaButton.href}
        class="mt-2 block text-center rounded-xl bg-neutral-900 text-white px-4 py-2 font-semibold hover:bg-neutral-800"
      >
        {ctaButton.label}
      </a>
    </div>
  </div>

  <script is:inline>
    const btn = document.getElementById("menuBtn");
    const menu = document.getElementById("mobileMenu");
    btn?.addEventListener("click", () => {
      menu?.classList.toggle("hidden");
    });
  </script>
</header>
